#Получение температуры по координатам

http://openweathermap.org/api - полное описание возможностей API.

[Шаблон процесса](https://www.corezoid.com/admin/edit_conv/136513/92753) получения температуры воздуха по координатам доступен в папке `"Examples - Open Weather"`.

###Получение ключа доступа к сервису

Чтобы получить ключ доступа к API OpenWeatherMap перейдите по [ссылке](http://openweathermap.org/register) и зарегистрируйтесь.

###Тестирование процесса
Для того чтобы начать работу с процессом, клонируйте шаблон следующим образом

![](../img/mandrill_copy_conveyor.png)

Перейдите в режим `dashboard` и нажмите кнопку `Add task` - добавить заявку.

![](../img/mandrill_dashboard.png)

В появившемся окне укажите обязательные параметры:
*   `lat` - широта
*   `lon` - долгота
*   `key` - Ваш ключ доступа к API OpenWeatherMap (API key),  полученный на [сайте](http://openweathermap.org/register).

После того как параметры заявки указаны, нажмите кнопку `Send task`.

Результатом работы процесса, будет прохождение заявки по процессу и переход в одно из конечных состояний (узел красного цвета):

|Состояние|Описание|Возвращаемые переменные|
|-|-|-|
|Success|Успешно получили температуру по названию города|`temp` - температура|
|Error call API|Ошибка вызова API OpenWeather|`code` = 1 и текст ошибки|
|Error convert temp |Не смогли преобразовать полученную температуру в число|`code` = 2 и текст ошибки|
|Error - Point is out of bounds for spher ical query |Указанные координаты находятся за пределами нормальных значений|`code` = 3 и текст ошибки|


